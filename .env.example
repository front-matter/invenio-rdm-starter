# InvenioRDM Starter Environment Configuration
# This file contains example environment variables for local development.
# Copy this file to .env and customize with your values.
# NEVER commit .env with real secrets to version control!

# ==============================================================================
# REQUIRED PRODUCTION VARIABLES
# ==============================================================================

# Flask secret key - REQUIRED in production
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# INVENIO_SECRET_KEY=your-secret-key-here-at-least-32-chars-long

# Database connection URI - REQUIRED
# Format: postgresql+psycopg2://username:password@host:port/database
INVENIO_SQLALCHEMY_DATABASE_URI=postgresql+psycopg2://inveniordm:inveniordm@db/inveniordm

# ==============================================================================
# RECOMMENDED PRODUCTION VARIABLES
# ==============================================================================

# Sentry error tracking DSN - Highly recommended for production
# INVENIO_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Public-facing URLs - Required for proper link generation
INVENIO_SITE_UI_URL=https://localhost
INVENIO_SITE_API_URL=https://localhost/api

# Allowed/trusted hosts - Set to your actual hostname(s) in production
INVENIO_TRUSTED_HOSTS=['0.0.0.0', 'localhost', '127.0.0.1']

# ==============================================================================
# FLASK & APPLICATION SETTINGS
# ==============================================================================

# Flask environment: development or production
# FLASK_ENV=development
# INVENIO_ENV=development

# ==============================================================================
# DATABASE & CACHE
# ==============================================================================

# Cache type and Redis URL
INVENIO_CACHE_TYPE=redis
INVENIO_CACHE_REDIS_URL=redis://cache:6379/0

# Celery broker URL (for async tasks)
INVENIO_CELERY_BROKER_URL=redis://cache:6379/5

# ==============================================================================
# SEARCH BACKEND
# ==============================================================================

# OpenSearch/Elasticsearch hosts
INVENIO_SEARCH_HOSTS=['search:9200']
INVENIO_SEARCH_INDEX_PREFIX=invenio-rdm-

# ==============================================================================
# AUTHENTICATION & USERS
# ==============================================================================

# Local login settings
# Set to False to disable username/password login and force external authentication
INVENIO_ACCOUNTS_LOCAL_LOGIN_ENABLED=False

# Local login security settings (only relevant if ACCOUNTS_LOCAL_LOGIN_ENABLED=True)
# INVENIO_SECURITY_REGISTERABLE=True  # Allow users to register new accounts
# INVENIO_SECURITY_RECOVERABLE=True  # Allow users to reset their password
# INVENIO_SECURITY_CHANGEABLE=True  # Allow users to change their password
# INVENIO_SECURITY_CONFIRMABLE=True  # Require email confirmation for new accounts
# INVENIO_SECURITY_LOGIN_WITHOUT_CONFIRMATION=False  # Require email confirmation before login

# OAuth/OIDC settings (Authentik example)
# Required if local login is disabled
# INVENIO_AUTHENTIK_APP_CREDENTIALS_CONSUMER_KEY=your-client-id
# INVENIO_AUTHENTIK_APP_CREDENTIALS_CONSUMER_SECRET=your-client-secret

# OIDC settings (generic OpenID Connect provider)
# Required if using OIDC provider and local login is disabled
# INVENIO_OIDC_ISSUER=https://auth.example.com
# INVENIO_OIDC_TITLE=My Organization
# INVENIO_OIDC_DESCRIPTION=Sign in with My Organization
# INVENIO_OIDC_APP_CREDENTIALS_CONSUMER_KEY=your-oidc-client-id
# INVENIO_OIDC_APP_CREDENTIALS_CONSUMER_SECRET=your-oidc-client-secret

# ==============================================================================
# DATACITE DOI MINTING
# ==============================================================================

# DataCite credentials - Required if DATACITE_ENABLED=True in invenio.cfg
# INVENIO_DATACITE_USERNAME=your-datacite-username
# INVENIO_DATACITE_PASSWORD=your-datacite-password
# INVENIO_DATACITE_PREFIX=10.12345

# ==============================================================================
# FILE STORAGE (S3)
# ==============================================================================

# S3 storage settings - Required if using S3 for file storage
# INVENIO_FILES_REST_STORAGE_FACTORY=invenio_s3.s3fs_storage_factory
# INVENIO_S3_ENDPOINT_URL=https://s3.amazonaws.com
# INVENIO_S3_ACCESS_KEY_ID=your-access-key
# INVENIO_S3_SECRET_ACCESS_KEY=your-secret-key
# INVENIO_S3_BUCKET_NAME=your-bucket-name

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================

# Mail server settings
# INVENIO_MAIL_SERVER=smtp.example.com
# INVENIO_MAIL_PORT=587
# INVENIO_MAIL_USERNAME=info@example.com
# INVENIO_MAIL_PASSWORD=your-mail-password
# INVENIO_MAIL_USE_TLS=True

# Email addresses
# INVENIO_MAIL_DEFAULT_SENDER=noreply@example.com
# INVENIO_SECURITY_EMAIL_SENDER=noreply@example.com
# INVENIO_APP_RDM_ADMIN_EMAIL_RECIPIENT=admin@example.com

# ==============================================================================
# LOCALIZATION
# ==============================================================================

# Default locale and timezone
INVENIO_BABEL_DEFAULT_LOCALE=en
INVENIO_BABEL_DEFAULT_TIMEZONE=UTC

# ==============================================================================
# THEME & BRANDING
# ==============================================================================

INVENIO_THEME_SITENAME=InvenioRDM Starter
INVENIO_THEME_FRONTPAGE_TITLE=InvenioRDM Starter
INVENIO_THEME_FRONTPAGE_SUBTITLE=A starter project for the turn-key research data management repository.
INVENIO_THEME_LOGO=images/invenio-rdm-white.svg

# ==============================================================================
# OAI-PMH
# ==============================================================================

INVENIO_OAISERVER_ID_PREFIX=invenio-rdm

# ==============================================================================
# LOGGING
# ==============================================================================

# Logging levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
INVENIO_LOGGING_CONSOLE_LEVEL=WARNING

# ==============================================================================
# ADDITIONAL SETTINGS
# ==============================================================================

# Allow external DOI versioning
INVENIO_RDM_ALLOW_EXTERNAL_DOI_VERSIONING=False

# Citation styles
INVENIO_RDM_CITATION_STYLES_DEFAULT=apa

# ==============================================================================
# DEVELOPMENT/TESTING ONLY
# ==============================================================================

# Skip configuration validation (NOT RECOMMENDED IN PRODUCTION!)
# SKIP_CONFIG_VALIDATION=1
